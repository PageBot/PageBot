---
#language: python3
matrix:
  allow_failures:
    - os: linux
  include:
    - os: linux
      language: python
      dist: trusty
      python: 3.6
      before_install:
        - ./linux.sh
    - os: osx
      before_install:
        - ./osx.sh
      language: python3
      python: 3.7
branches:
  only:
    - master
script:
  # TODO: move to pytest script.
  - mkdir _export
  - ./pylint.sh
  - python3 Lib/pagebot/__init__.py
  - python3 Lib/pagebot/article.py
  - python3 Lib/pagebot/composer.py
  - python3 Lib/pagebot/conditions/__init__.py
  - python3 Lib/pagebot/conditions/align.py
  - python3 Lib/pagebot/conditions/columns.py
  - python3 Lib/pagebot/conditions/condition.py
  - python3 Lib/pagebot/conditions/floating.py
  - python3 Lib/pagebot/conditions/flow.py
  - python3 Lib/pagebot/conditions/score.py
  - python3 Lib/pagebot/conditions/text.py
  - python3 Lib/pagebot/constants.py
  - python3 Lib/pagebot/contexts/__init__.py
  - python3 Lib/pagebot/contexts/base/abstractcontext.py
  - python3 Lib/pagebot/contexts/base/babelstring.py
  - python3 Lib/pagebot/contexts/base/basecontext.py
  - python3 Lib/pagebot/contexts/base/basebuilder.py
  - python3 Lib/pagebot/contexts/flat/flatbuilder.py
  - python3 Lib/pagebot/contexts/flat/flatbezierpath.py
  - python3 Lib/pagebot/contexts/flat/flatcontext.py
  - python3 Lib/pagebot/contexts/flat/flatstring.py
  - python3 Lib/pagebot/contexts/markup/htmlbuilder.py
  - python3 Lib/pagebot/contexts/markup/svgbuilder.py
  - python3 Lib/pagebot/contexts/markup/sitebuilder.py
  - python3 Lib/pagebot/contexts/markup/xmlbuilder.py
  - python3 Lib/pagebot/contexts/markup/htmlcontext.py
  - python3 Lib/pagebot/contexts/markup/htmlstring.py
  - python3 Lib/pagebot/contexts/markup/svgcontext.py
  # TODO: add rest of contributions.
  - python3 Lib/pagebot/contributions/filibuster/blurbwriter.py
  - python3 Lib/pagebot/document.py
  - python3 Lib/pagebot/elements/element.py
  - python3 Lib/pagebot/elements/paths/glyphpath.py
  - python3 Lib/pagebot/elements/pbcodeblock.py
  - python3 Lib/pagebot/elements/pbgalley.py
  - python3 Lib/pagebot/elements/pbgroup.py
  - python3 Lib/pagebot/elements/pbimage.py
  - python3 Lib/pagebot/elements/pbline.py
  - python3 Lib/pagebot/elements/pboval.py
  - python3 Lib/pagebot/elements/pbpage.py
  - python3 Lib/pagebot/elements/pbplacer.py
  - python3 Lib/pagebot/elements/pbpolygon.py
  - python3 Lib/pagebot/elements/pbquire.py
  - python3 Lib/pagebot/elements/pbrect.py
  - python3 Lib/pagebot/elements/pbruler.py
  - python3 Lib/pagebot/elements/pbtable.py
  - python3 Lib/pagebot/elements/pbtext.py
  - python3 Lib/pagebot/elements/pbtextbox.py
  - python3 Lib/pagebot/elements/variablefonts/variablecircle.py
  - python3 Lib/pagebot/elements/variablefonts/variablecube.py
  - python3 Lib/pagebot/elements/variablefonts/variablecube2.py
  - python3 Lib/pagebot/elements/variablefonts/variableglyphs.py
  - python3 Lib/pagebot/elements/variablefonts/variablescatter.py
  - python3 Lib/pagebot/elements/views/__init__.py
  - python3 Lib/pagebot/elements/views/baseview.py
  - python3 Lib/pagebot/elements/views/gitview.py
  - python3 Lib/pagebot/elements/views/googleappsview.py
  - python3 Lib/pagebot/elements/views/googlecloudview.py
  - python3 Lib/pagebot/elements/views/htmlview.py
  - python3 Lib/pagebot/elements/views/mampview.py
  - python3 Lib/pagebot/elements/views/pageview.py
  - python3 Lib/pagebot/elements/views/pagemapview.py
  - python3 Lib/pagebot/elements/views/siteview.py
  - python3 Lib/pagebot/errors.py
  - python3 Lib/pagebot/fonttoolbox/objects/family.py
  - python3 Lib/pagebot/fonttoolbox/objects/font.py
  - python3 Lib/pagebot/fonttoolbox/objects/fontinfo.py
  - python3 Lib/pagebot/fonttoolbox/objects/glyph.py
  - python3 Lib/pagebot/fonttoolbox/objects/prevarfamily.py
  - python3 Lib/pagebot/fonttoolbox/otlTools.py
  - python3 Lib/pagebot/fonttoolbox/ttftools.py
  - python3 Lib/pagebot/fonttoolbox/unicodes/unicoderanges.py
  - python3 Lib/pagebot/gradient.py
  - python3 Lib/pagebot/mathematics/__init__.py
  - python3 Lib/pagebot/mathematics/transform3d.py
  - python3 Lib/pagebot/mathematics/numpytransform.py
  - python3 Lib/pagebot/paths.py
  - python3 Lib/pagebot/publications/typespecimens/__init__.py
  - python3 Lib/pagebot/publications/typespecimens/basetypespecimen.py
  - python3 Lib/pagebot/publications/typespecimens/simplespecimen.py
  - python3 Lib/pagebot/publications/typespecimens/specimens.py
  - python3 Lib/pagebot/publications/typespecimens/typespecimen.py
  - python3 Lib/pagebot/publications/typespecimens/proofing/__init__.py
  - python3 Lib/pagebot/publications/typespecimens/proofing/pagewide.py
  - python3 Lib/pagebot/publications/typespecimens/proofing/proof.py
  - python3 Lib/pagebot/publications/typespecimens/proofing/tx.py
  - python3 Lib/pagebot/publications/websites/nanosite/nanosite.py
  # - python3 Lib/pagebot/publications/newspapers/basenewspaper.py
  # TODO: add rest of publications...
  # ...
  - python3 Lib/pagebot/publications/calendars/basecalendar.py
  - python3 Lib/pagebot/readers/__init__.py
  - python3 Lib/pagebot/readers/mdreader.py
  - python3 Lib/pagebot/readers/rereader.py
  - python3 Lib/pagebot/readers/xmlreader.py
  - python3 Lib/pagebot/server/__init__.py
  # Hangs on server process.
  # - python3 Lib/pagebot/server/baseserver.py
  - python3 Lib/pagebot/style.py
  - python3 Lib/pagebot/stylelib.py
  - python3 Lib/pagebot/templates/__init__.py
  # ...
  - python3 Lib/pagebot/themes/__init__.py
  - python3 Lib/pagebot/themes/backtothecity.py
  - python3 Lib/pagebot/themes/basetheme.py
  - python3 Lib/pagebot/themes/businessasusual.py
  - python3 Lib/pagebot/themes/fairytales.py
  - python3 Lib/pagebot/themes/freshandshiny.py
  - python3 Lib/pagebot/themes/happyholidays.py
  - python3 Lib/pagebot/themes/intothewoods.py
  - python3 Lib/pagebot/themes/seasoningthedish.py
  - python3 Lib/pagebot/themes/somethingintheair.py
  - python3 Lib/pagebot/themes/wordlywise.py
  - python3 Lib/pagebot/toolbox/color.py
  - python3 Lib/pagebot/toolbox/columncalc.py
  - python3 Lib/pagebot/toolbox/dating.py
  - python3 Lib/pagebot/toolbox/hyphenation.py
  - python3 Lib/pagebot/toolbox/markers.py
  - python3 Lib/pagebot/toolbox/timemark.py
  - python3 Lib/pagebot/toolbox/units.py
  - python3 Lib/pagebot/typesetter.py
