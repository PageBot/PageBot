language:
  - python3.6
  - python3.7
os: osx
branches:
  only:
  - master
before_install:
- pip3 install --upgrade pip
install:
# TODO: move to requirements.txt.
- pip3 install libsass
- pip3 install fontTools
- pip3 install markdown
- pip3 install pylint
- pip3 install svgwrite
- pip3 install SimpleIDML
- pip3 install booleanOperations
- pip3 install tornado
- pip3 install SimpleIDML
- pip3 install flat
- pip3 install pyobjc
- python3 setup.py install # PageBot itself.
- wget https://github.com/typesupply/vanilla/archive/master.zip
- unzip master.zip
- cd vanilla-master
- python3 setup.py install
- cd ..
- rm master.zip
- rm -r vanilla-master
- wget https://github.com/typesupply/defconAppKit/archive/master.zip
- unzip master.zip
- cd defconAppKit-master
- python3 setup.py install
- cd ..
- rm master.zip
- rm -r defconAppKit-master
- wget https://github.com/typesupply/compositor/archive/master.zip
- unzip master.zip
- cd compositor-master
- python3 setup.py install
- cd ..
- rm master.zip
- rm -r compositor-master
- wget https://github.com/PageBot/PageBotCocoa/archive/master.zip
- unzip master.zip
- cd PageBotCocoa-master
- python3 setup.py install
- cd ..
- rm master.zip
- rm -r PageBotCocoa-master
- wget https://github.com/typemytype/drawbot/archive/master.zip
- unzip master.zip
- cd drawbot-master
- python3 setup.py install
- cd ..
- rm master.zip
- rm -r drawbot-master
script:
# TODO: move to pytest script.
- mkdir _export
- export WONT_FIX=invalid-name,bad-indentation,trailing-newlines,wrong-import-position,fixme,c-extension-no-member,line-too-long,trailing-whitespace,bad-whitespace
- export CATCHALL_MAY_FIX_LATER=no-else-continue,bad-continuation,too-many-arguments,too-many-locals,unused-argument,pointless-string-statement,too-many-instance-attributes,too-few-public-methods,attribute-defined-outside-init,protected-access,wrong-import-order,unused-variable,no-member,too-many-function-args,unexpected-keyword-arg,no-self-use,no-method-argument,function-redefined,too-many-public-methods,anomalous-backslash-in-string,arguments-differ,too-many-boolean-expressions,too-many-statements,no-self-argument,unnecessary-pass,keyword-arg-before-vararg,not-a-mapping,multiple-statements,inconsistent-return-statements,no-else-return,too-many-nested-blocks,too-many-lines,unidiomatic-typecheck,simplifiable-if-statement,too-many-return-statements,eval-used,empty-docstring,consider-using-enumerate,unbalanced-tuple-unpacking,global-statement,duplicate-key,no-init,redefined-argument-from-local,missing-docstring,unused-wildcard-import,invalid-unary-operand-type,wildcard-import,exec-used,bare-except,duplicate-code,unsubscriptable-object,redefined-outer-name
- export PYLINT="pylint --disable=$WONT_FIX,$CATCHALL_MAY_FIX_LATER"
- $PYLINT Lib/pagebot/
- python3 Lib/pagebot/__init__.py
- python3 Lib/pagebot/article.py
- python3 Lib/pagebot/composer.py
- python3 Lib/pagebot/conditions/__init__.py
- python3 Lib/pagebot/conditions/align.py
- python3 Lib/pagebot/conditions/columns.py
- python3 Lib/pagebot/conditions/condition.py
- python3 Lib/pagebot/conditions/floating.py
- python3 Lib/pagebot/conditions/flow.py
- python3 Lib/pagebot/conditions/score.py
- python3 Lib/pagebot/conditions/text.py
- python3 Lib/pagebot/constants.py
- python3 Lib/pagebot/contexts/__init__.py
- python3 Lib/pagebot/contexts/base/abstractcontext.py
- python3 Lib/pagebot/contexts/base/babelstring.py
- python3 Lib/pagebot/contexts/base/basecontext.py
- python3 Lib/pagebot/contexts/base/basebuilder.py
- python3 Lib/pagebot/contexts/flat/flatbuilder.py
- python3 Lib/pagebot/contexts/flat/flatbezierpath.py
- python3 Lib/pagebot/contexts/flat/flatcontext.py
- python3 Lib/pagebot/contexts/flat/flatstring.py
- python3 Lib/pagebot/contexts/solid/builder.py
- python3 Lib/pagebot/contexts/markup/htmlbuilder.py
- python3 Lib/pagebot/contexts/markup/svgbuilder.py
- python3 Lib/pagebot/contexts/markup/sitebuilder.py
- python3 Lib/pagebot/contexts/markup/xmlbuilder.py
- python3 Lib/pagebot/contexts/markup/htmlcontext.py
- python3 Lib/pagebot/contexts/markup/htmlstring.py
- python3 Lib/pagebot/contexts/markup/svgcontext.py
# TODO: add rest of contributions.
- python3 Lib/pagebot/contributions/filibuster/blurbwriter.py
- python3 Lib/pagebot/document.py
- python3 Lib/pagebot/elements/element.py
- python3 Lib/pagebot/elements/paths/glyphpath.py
- python3 Lib/pagebot/elements/pbcodeblock.py
- python3 Lib/pagebot/elements/pbgalley.py
- python3 Lib/pagebot/elements/pbgroup.py
- python3 Lib/pagebot/elements/pbimage.py
- python3 Lib/pagebot/elements/pbline.py
- python3 Lib/pagebot/elements/pboval.py
- python3 Lib/pagebot/elements/pbpage.py
- python3 Lib/pagebot/elements/pbplacer.py
- python3 Lib/pagebot/elements/pbpolygon.py
- python3 Lib/pagebot/elements/pbquire.py
- python3 Lib/pagebot/elements/pbrect.py
- python3 Lib/pagebot/elements/pbruler.py
- python3 Lib/pagebot/elements/pbtable.py
- python3 Lib/pagebot/elements/pbtext.py
- python3 Lib/pagebot/elements/pbtextbox.py
- python3 Lib/pagebot/elements/variablefonts/variablecircle.py
- python3 Lib/pagebot/elements/variablefonts/variablecube.py
- python3 Lib/pagebot/elements/variablefonts/variablecube2.py
- python3 Lib/pagebot/elements/variablefonts/variableglyphs.py
- python3 Lib/pagebot/elements/variablefonts/variablescatter.py
- python3 Lib/pagebot/elements/views/__init__.py
- python3 Lib/pagebot/elements/views/baseview.py
- python3 Lib/pagebot/elements/views/gitview.py
- python3 Lib/pagebot/elements/views/googleappsview.py
- python3 Lib/pagebot/elements/views/googlecloudview.py
- python3 Lib/pagebot/elements/views/htmlview.py
- python3 Lib/pagebot/elements/views/mampview.py
- python3 Lib/pagebot/elements/views/pageview.py
- python3 Lib/pagebot/elements/views/pagemapview.py
- python3 Lib/pagebot/elements/views/siteview.py
- python3 Lib/pagebot/errors.py
- python3 Lib/pagebot/fonttoolbox/objects/family.py
- python3 Lib/pagebot/fonttoolbox/objects/font.py
- python3 Lib/pagebot/fonttoolbox/objects/fontinfo.py
- python3 Lib/pagebot/fonttoolbox/objects/glyph.py
- python3 Lib/pagebot/fonttoolbox/objects/prevarfamily.py
- python3 Lib/pagebot/fonttoolbox/otlTools.py
- python3 Lib/pagebot/fonttoolbox/ttftools.py
- python3 Lib/pagebot/fonttoolbox/unicodes/unicoderanges.py
- python3 Lib/pagebot/gradient.py
- python3 Lib/pagebot/mathematics/__init__.py
- python3 Lib/pagebot/mathematics/transform3d.py
- python3 Lib/pagebot/mathematics/numpytransform.py
- python3 Lib/pagebot/paths.py
- python3 Lib/pagebot/publications/typespecimens/__init__.py
- python3 Lib/pagebot/publications/typespecimens/basetypespecimen.py
- python3 Lib/pagebot/publications/typespecimens/simplespecimen.py
- python3 Lib/pagebot/publications/typespecimens/specimens.py
- python3 Lib/pagebot/publications/typespecimens/typespecimen.py
- python3 Lib/pagebot/publications/typespecimens/proofing/__init__.py
- python3 Lib/pagebot/publications/typespecimens/proofing/pagewide.py
- python3 Lib/pagebot/publications/typespecimens/proofing/proof.py
- python3 Lib/pagebot/publications/typespecimens/proofing/tx.py
- python3 Lib/pagebot/publications/websites/nanosite/nanosite.py
# - python3 Lib/pagebot/publications/newspapers/basenewspaper.py 
# TODO: add rest of publications...
# ...
- python3 Lib/pagebot/publications/calendars/basecalendar.py
- python3 Lib/pagebot/readers/__init__.py
- python3 Lib/pagebot/readers/mdreader.py
- python3 Lib/pagebot/readers/rereader.py
- python3 Lib/pagebot/readers/xmlreader.py
- python3 Lib/pagebot/server/__init__.py
# Hangs on server process.
#- python3 Lib/pagebot/server/baseserver.py
- python3 Lib/pagebot/style.py
- python3 Lib/pagebot/stylelib.py
- python3 Lib/pagebot/templates/__init__.py
# ...
- python3 Lib/pagebot/themes/__init__.py
- python3 Lib/pagebot/themes/backtothecity.py
- python3 Lib/pagebot/themes/basetheme.py
- python3 Lib/pagebot/themes/businessasusual.py
- python3 Lib/pagebot/themes/fairytales.py
- python3 Lib/pagebot/themes/freshandshiny.py
- python3 Lib/pagebot/themes/happyholidays.py
- python3 Lib/pagebot/themes/intothewoods.py
- python3 Lib/pagebot/themes/seasoningthedish.py
- python3 Lib/pagebot/themes/somethingintheair.py
- python3 Lib/pagebot/themes/wordlywise.py
- python3 Lib/pagebot/toolbox/color.py
- python3 Lib/pagebot/toolbox/columncalc.py
- python3 Lib/pagebot/toolbox/dating.py
- python3 Lib/pagebot/toolbox/hyphenation.py
- python3 Lib/pagebot/toolbox/markers.py
- python3 Lib/pagebot/toolbox/timemark.py
- python3 Lib/pagebot/toolbox/units.py
- python3 Lib/pagebot/typesetter.py
after_sucess:
- CODECLIMATE_REPO_TOKEN=b686cb85d6a2fc7c7917307a36fd14fe95d1826 codeclimate-test-reporter
