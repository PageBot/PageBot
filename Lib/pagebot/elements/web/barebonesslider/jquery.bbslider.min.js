/*!
 * Bare Bones Slider
 * http://www.bbslider.com/
 *
 * Author
 * Richard Hung
 * http://www.magicmediamuse.com/
 *
 * Version
 * 1.3.3
 *
 * Copyright (c) 2016 Richard Hung.
 *
 * License
 * Bare Bones Slider by Richard Hung is licensed under a Creative Commons Attribution-NonCommercial 3.0 Unported License.
 * http://creativecommons.org/licenses/by-nc/3.0/deed.en_US
 */


!function(e){"use strict";var a=function(a,t,s){return s||(s=a),e('<div class="bb-link-wrapper"><a href="#" class="bb-pager-link">'+s+"</a></div>")},t={init:function(t){var s={start:1,duration:1e3,controls:!1,controlsText:['<a class="prev control" href="#">Prev</a>','<a class="next control" href="#">Next</a>'],pager:!1,pagerWrap:".pager-wrap",pagerText:a,auto:!1,timer:5e3,loop:!0,transition:"fade",callbackStart:null,callbackBefore:null,callbackAfter:null,callbackUpdate:null,easing:"ease",autoHeight:!0,dynamicHeight:!1,pauseOnHit:!0,randomPlay:!1,loopTrans:!0,touch:!1,touchoffset:50,dragControls:!1,dragoffset:50,carousel:!1,carouselMove:1,maskImage:"/images/mask.png",maskSteps:23};return t=e.extend({},s,t),this.each(function(){var a=e(this),s=a.children(),i=t.start-1,n=t.start-1,r=s.length;if(a.data({autoPlay:!1,pIndex:i,xIndex:i,cIndex:n,pCount:r,settings:t}),a.addClass("bbslider-wrapper"),s.addClass("panel"),t.loop?a.addClass("loop-true"):a.addClass("loop-false"),t.pager&&a.bbslider("pager"),t.controls){var d=a.bbslider("controls"),l=d.next,o=d.prev;l.click(function(e){a.bbslider("next"),e.preventDefault(),t.pauseOnHit&&a.bbslider("autoPlayPause")}),o.click(function(e){a.bbslider("prev"),e.preventDefault(),t.pauseOnHit&&a.bbslider("autoPlayPause")})}if(t.touch||t.dragControls){var c,u,p,h="",f="";t.touch&&(h+="touchstart ",f+="touchend touchcancel "),t.dragControls&&(h+="mousedown ",f+="mouseup "),a.on(h,function(e){a=e;if("mousedown"!=e.type)var a=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];c=a.pageX}),a.on(f,function(e){s=e;if(p=t.dragoffset,"mouseup"!=e.type){var s=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];p=t.touchoffset}(u=s.pageX)>c+p?(a.bbslider("prev"),t.pauseOnHit&&a.bbslider("autoPlayPause")):u<c-p&&(a.bbslider("next"),t.pauseOnHit&&a.bbslider("autoPlayPause"))})}t.auto&&(a.data("autoPlay",!0),a.bbslider("autoPlayStart")),a.bbslider("setup"),t.autoHeight&&a.bbslider("recalcHeight");var b=t.callbackStart;e.isFunction(b)&&b.call(this)})},update:function(){return this.each(function(){var a=e(this),t=a.children(":not(.control-wrapper)"),s=t.length,i=a.data("settings"),n=(a.data("pIndex"),i.pager),r=i.autoHeight,d=i.callbackUpdate;a.data("pCount",s),t.addClass("panel"),n&&a.bbslider("pager"),a.bbslider("setup"),r&&a.bbslider("recalcHeight"),e.isFunction(d)&&d.call(this)})},destroy:function(){return this.each(function(){var a=e(this),t=a.children(".panel"),s=a.data("settings");a.attr("id");a.removeClass("bbslider-wrapper first-panel last-panel loop-true loop-false carousel ease linear ease-in ease-out ease-in-out easeInQuad easeInCubic easeInQuart easeInQuint easeInSine easeInExpo easeInCirc easeInBack easeOutQuad easeOutCubic easeOutQuart easeOutQuint easeOutSine easeOutExpo easeOutCirc easeOutBack easeInOutQuad easeInOutCubic easeInOutQuart easeInOutQuint easeInOutSine easeInOutExpo easeInOutCirc easeInOutBack"),t.removeClass("panel active slide fade blind none slideVert mask").removeAttr("style"),a.css("height",""),"blind"==s.transition&&a.find(".panel-inner").contents().unwrap(),s.pager&&e(s.pagerWrap).empty(),a.children(".prev-control-wrapper").remove(),a.children(".next-control-wrapper").remove(),a.data("autoPlay")&&a.bbslider("autoPlayPause"),a.removeData()})},recalcHeight:function(){return this.each(function(){var a,t=e(this),s=t.children(".panel"),i=t.data("settings"),n=t.data("pIndex"),r=t.data("pCount"),d=i.autoHeight,l=i.dynamicHeight,o=i.carousel,c=0,u=0;if(l&&d)if(o){a=n+parseInt(o);for(var p=n;p<a;p++){var h;h=p<r?p:p-r,(u=s.eq(h).outerHeight(!0))>c&&(c=u)}}else c=s.eq(n).outerHeight(!0);else s.each(function(){(u=e(this).outerHeight(!0))>c&&(c=u)});t.height(c)})},autoPlayStart:function(){return this.each(function(){var a=e(this),t=a.data("settings"),s=a.data("autoPlay"),i=t.randomPlay;if(s){var n=t.duration,r=t.timer,d=setInterval(function(){i?a.bbslider("randomSlide"):a.bbslider("next")},r+n);a.data("tid",d)}})},autoPlayPause:function(){return this.each(function(){var a=e(this),t=a.data("tid");a.data("autoPlay")&&(clearInterval(t),a.data("autoPlay",!1))})},autoPlayReset:function(){return this.each(function(){var a=e(this),t=a.data("tid");a.data("autoPlay")&&(clearInterval(t),a.bbslider("autoPlayStart"))})},randomSlide:function(){return this.each(function(){var a=e(this),t=a.data("settings"),s=a.data("pCount"),i=a.data("pIndex"),n=t.loopTrans,r=Math.round(1+Math.floor(Math.random()*s))-1;n?(a.data("cIndex",i),a.data("pIndex",r),a.bbslider("forPage",r)):a.bbslider("travel",r)})},setup:function(){var a=this,t=a.children(".panel"),s=a.data("settings"),i=a.data("pIndex"),n=a.data("pCount"),r=s.transition,d=s.duration,l=s.carousel;if(t.addClass("init "+r),l){a.addClass("carousel "+s.easing);var o=100/parseInt(l),c=i+parseInt(l),u=h,p=0;t.css({width:o+"%",left:"100%"});for(var h=i;h<c;h++)u=h,h>=n&&(u=h-n),t.eq(u).css("left",p+"%"),p+=o,"fade"===r&&t.eq(u).css("opacity",1)}else switch(a.addClass(s.easing),r){case"fade":t.eq(i).show().css("opacity",1);break;case"mask":var f=s.maskSteps-1;t.eq(i).show(),a.removeClass(s.easing),t.css({MaskImage:'url("'+s.maskImage+'")',webkitMaskImage:'url("'+s.maskImage+'")',MaskSize:100*s.maskSteps+"% 100%",webkitMaskSize:100*s.maskSteps+"% 100%",WebkitTransitionTimingFunction:"steps("+f+")",MozTransitionTimingFunction:"steps("+f+")",OTransitionTimingFunction:"steps("+f+")",transitionTimingFunction:"steps("+f+")"});break;case"slide":t.css("transform","translateX(100%)").eq(i).css("transform","translateX(0%)");break;case"slideVert":t.css("transform","translateY(100%)").eq(i).css("transform","translateY(0%)");break;case"blind":var b=a.width();t.children(".panel-inner").contents().unwrap(),t.wrapInner('<div class="panel-inner" />'),t.addClass("blind init").eq(i).css({width:"100%"}),t.children(".panel-inner").width(b);var m=0;t.children(".panel-inner").each(function(){var a=e(this).wrapInner("<div>").children().outerHeight(!0);a>m&&(m=a),e(this).children().contents().unwrap()}),t.height(m),t.children(".panel-inner").height(m)}t.eq(i).addClass("active"),t.css({WebkitTransitionDuration:d/1e3+"s",MozTransitionDuration:d/1e3+"s",OTransitionDuration:d/1e3+"s",transitionDuration:d/1e3+"s"})},pager:function(){var a=this,t=a.children(".panel"),s=a.data("pCount"),i=a.data("settings"),n=e(i.pagerWrap),r=i.pagerText;n.empty();for(var d=0;d<s;d++){var l=t.eq(d).attr("title"),o=r.call(this,d+1,!1,l);o.appendTo(n),o.find("a").data("xIndex",d).on("click",function(t){t.preventDefault();var s=a.data("settings").pauseOnHit;a.bbslider("travel",e(this).data("xIndex")),s&&a.bbslider("autoPlayPause"),t.preventDefault()})}a.bbslider("pagerUpdate")},pagerUpdate:function(){var a=this.data("settings"),t=this.data("pIndex");e(a.pagerWrap).children().removeClass("activePanel").eq(t).addClass("activePanel")},controls:function(){var a=this.data("settings"),t=this.data("pIndex"),s=this.data("pCount"),i=(a.loop,e(a.controlsText[1]).prependTo(this)),n=e(a.controlsText[0]).prependTo(this);i.wrap('<div class="next-control-wrapper control-wrapper" />'),n.wrap('<div class="prev-control-wrapper control-wrapper" />'),0===t&&this.addClass("first-panel"),s<=t+1&&this.addClass("last-panel");var r={};return r.next=i,r.prev=n,r},prev:function(){return this.each(function(){var a=e(this),t=a.data("settings"),s=t.loop,i=a.data("pCount"),n=a.data("pIndex"),r=t.loopTrans,d=t.carousel,l=t.carouselMove,o=n,c=t.callbackBefore,u=!1;if(d?((n=o-l)<0&&(n+=i),u="carousel"):n>0?(n=o-1,u="backward"):s&&(u="end",n=i-1),a.data("xIndex",n),e.isFunction(c)&&!1===c.call(this))return!1;a.data("cIndex",o),a.data("autoPlay")&&a.bbslider("autoPlayReset"),a.data("pIndex",n),"carousel"==u||"backward"==u?a.bbslider("backPage",n):"end"==u&&(r?a.bbslider("backPage",n):a.bbslider("forPage",n))})},next:function(){return this.each(function(){var a=e(this),t=a.data("settings"),s=a.data("pCount"),i=a.data("pIndex"),n=t.loop,r=t.loopTrans,d=t.carousel,l=t.carouselMove,o=i,c=t.callbackBefore,u=!1;if(d?(s<(i=o+l)+d+1&&(i-=s),u="carousel"):s>i+1?(i=o+1,u="forward"):n&&(i=0,u="first"),a.data("xIndex",i),e.isFunction(c)&&!1===c.call(this))return!1;a.data("cIndex",o),a.data("autoPlay")&&a.bbslider("autoPlayReset"),a.data("pIndex",i),"carousel"==u||"forward"==u?a.bbslider("forPage",i):"first"==u&&(r?a.bbslider("forPage",i):a.bbslider("backPage",i))})},travel:function(a){return this.each(function(){var t,s=e(this),i=s.data("settings"),n=s.data("pIndex"),r=s.data("pCount"),d=i.carousel,l=i.callbackBefore;if(s.data("xIndex",a),e.isFunction(l)&&!1===l.call(this))return!1;if(s.data("autoPlay")&&s.bbslider("autoPlayReset"),d){t=n,n=a,s.data("pIndex",n),s.data("cIndex",t);var o,c;n>t?(o=n-r,c=n):(o=n,c=n+r);var u=[o,c],p=t,h=null;e.each(u,function(){(null===h||Math.abs(this-p)<Math.abs(h-p))&&(h=this)}),h>p?s.bbslider("forPage",n):s.bbslider("backPage",n)}else n<a?(t=n,n=a,s.data("pIndex",n),s.data("cIndex",t),s.bbslider("forPage",n)):n>a&&(t=n,n=a,s.data("pIndex",n),s.data("cIndex",t),s.bbslider("backPage",n))})},backPage:function(){return this.each(function(){var a=e(this),t=a.children(".panel"),s=a.data("settings"),i=a.data("pIndex"),n=(s.loop,s.transition),r=s.carousel,d=s.autoHeight,l=s.dynamicHeight;s.duration;if(t.removeClass("active").eq(i).addClass("active"),a.children(".panel").stop(!0,!0),r)switch(n){case"fade":a.bbslider("carFade");break;case"slide":a.bbslider("carSlideBack");break;case"none":default:a.bbslider("carToggle")}else switch(n){case"fade":a.bbslider("fade");break;case"mask":a.bbslider("mask");break;case"slide":a.bbslider("slideBack");break;case"slideVert":a.bbslider("slideVertBack");break;case"blind":a.bbslider("blindBack")}0===i&&a.addClass("first-panel"),a.removeClass("last-panel"),a.bbslider("pagerUpdate"),l&&d&&a.bbslider("recalcHeight");var o=s.callbackAfter;e.isFunction(o)&&t.eq(i).one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd otransitionend transitionend",function(){o.call(this)})})},forPage:function(){return this.each(function(){var a=e(this),t=a.children(".panel"),s=a.data("settings"),i=a.data("pCount"),n=a.data("pIndex"),r=(s.loop,s.carousel),d=s.transition,l=s.autoHeight,o=s.dynamicHeight;s.duration;if(t.removeClass("active").eq(n).addClass("active"),a.children(".panel").stop(!0,!0),r)switch(d){case"fade":a.bbslider("carFade");break;case"slide":a.bbslider("carSlideFor");break;case"none":default:a.bbslider("carToggle")}else switch(d){case"fade":a.bbslider("fade");break;case"mask":a.bbslider("mask");break;case"slide":a.bbslider("slideFor");break;case"slideVert":a.bbslider("slideVertFor");break;case"blind":a.bbslider("blindFor")}i<=n+1&&a.addClass("last-panel"),a.removeClass("first-panel"),a.bbslider("pagerUpdate"),o&&l&&a.bbslider("recalcHeight");var c=s.callbackAfter;e.isFunction(c)&&t.eq(n).one("webkitTransitionEnd mozTransitionEnd MSTransitionEnd otransitionend transitionend",function(){c.call(this)})})},carToggle:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("pCount"),i=e.data("pIndex"),n=t.carousel,r=100/parseInt(n),d=i+parseInt(n);a.css("left","100%");for(var l=0,o=i;o<d;o++){var c;c=o<s?o:o-s,a.eq(c).css("left",l+"%"),l+=r}},carFade:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("pCount"),i=e.data("pIndex"),n=t.duration,r=t.carousel,d=100/parseInt(r),l=i+parseInt(r),o=e.data("resetSlides"),c=e.data("resetTimeout");c&&(o(),clearTimeout(c)),a.removeClass("init").css("opacity",0),o=function(){a.addClass("init").css("left","100%");for(var e=0,t=i;t<l;t++){var n;n=t<s?t:t-s,a.eq(n).css("left",e+"%"),a.eq(n).removeClass("init").css("opacity",1),e+=d}c=!1},c=setTimeout(o,n),e.data({resetSlides:o,resetTimeout:c})},carSlideFor:function(){var e,a,t,s,i=this,n=i.children(".panel"),r=i.data("settings"),d=i.data("pIndex"),l=i.data("cIndex"),o=i.data("pCount"),c=r.duration,u=r.carousel,p=d-l,h=100/parseInt(u),f=h*p,b=d+parseInt(u);d<l&&(f=h*(p=d-l+o),b+=o);var m=i.data("resetSlides"),g=i.data("resetTimeout");for(g&&(m(),clearTimeout(g)),a=(e=0)-f,s=l;s<b;s++)t=s<o?s:s-o,n.eq(t).css("left",e+"%"),n.eq(t).css("display"),n.eq(t).removeClass("init").css("left",a+"%"),e+=h,a+=h;m=function(){n.addClass("init"),g=!1},g=setTimeout(m,c),i.data({resetSlides:m,resetTimeout:g})},carSlideBack:function(){var e,a,t,s,i=this,n=i.children(".panel"),r=i.data("settings"),d=i.data("pCount"),l=i.data("pIndex"),o=i.data("cIndex"),c=r.duration,u=r.carousel,p=100/parseInt(u),h=o-l,f=p*h,b=o+u;h<0&&(f=p*(h+=d),b+=d);var m=i.data("resetSlides"),g=i.data("resetTimeout");for(g&&(m(),clearTimeout(g)),e=0-f,a=0,s=l;s<b;s++)t=s<d?s:s-d,n.eq(t).addClass("init").css("left",e+"%"),n.eq(t).css("display"),n.eq(t).removeClass("init").css("left",a+"%"),a+=p,e+=p;m=function(){n.addClass("init"),g=!1},g=setTimeout(m,c),i.data({resetSlides:m,resetTimeout:g})},fade:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),n=t.duration,r=e.data("resetSlides"),d=e.data("resetTimeout");d&&(r(),clearTimeout(d)),a.eq(s).removeClass("init").css("opacity",0),a.eq(i).show(),a.eq(i).css("display"),a.eq(i).removeClass("init").css("opacity",1),r=function(){a.eq(s).addClass("init").hide(),d=!1},d=setTimeout(r,n),e.data({resetSlides:r,resetTimeout:d})},mask:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),n=t.duration,r=e.data("resetSlides"),d=e.data("resetTimeout");d&&(r(),clearTimeout(d)),a.eq(s).removeClass("init"),a.eq(s).css("display"),a.eq(s).addClass("hide"),a.eq(i).show(),r=function(){a.eq(s).removeClass("hide").hide(),d=!1},d=setTimeout(r,n),e.data({resetSlides:r,resetTimeout:d})},blindFor:function(){var e=this,a=e.children(".panel"),t=a.children(".panel-inner"),s=e.data("settings"),i=e.data("cIndex"),n=e.data("pIndex"),r=s.duration,d=e.width(),l=e.data("resetSlides"),o=e.data("resetTimeout");o&&(l(),clearTimeout(o)),a.eq(i).css({left:0,right:""}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({width:0}),a.eq(n).addClass("init").css({marginLeft:"",left:"",right:0}),t.eq(n).css({marginLeft:-d}),a.eq(n).css("display"),a.eq(n).removeClass("init").css({width:"100%"}),t.eq(n).css("display"),t.eq(n).css({marginLeft:0}),l=function(){a.eq(i).addClass("init"),a.eq(n).addClass("init").css({marginLeft:"",right:"",left:"",width:"100%"}),t.eq(n).css({marginLeft:0}),o=!1},o=setTimeout(l,r),e.data({resetSlides:l,resetTimeout:o})},blindBack:function(){var e=this,a=e.children(".panel"),t=a.children(".panel-inner"),s=e.data("settings"),i=e.data("cIndex"),n=e.data("pIndex"),r=e.width(),d=s.duration,l=e.data("resetSlides"),o=e.data("resetTimeout");o&&(l(),clearTimeout(o)),a.eq(i).addClass("init").css({left:"",right:0}),t.eq(i).css({marginLeft:""}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({width:0}),t.eq(i).css("display"),t.eq(i).css({marginLeft:-r}),a.eq(n).addClass("init").css({left:0,right:""}),t.eq(n).css({marginLeft:0}),a.eq(n).css("display"),a.eq(n).removeClass("init").css({width:"100%"}),l=function(){a.eq(i).addClass("init"),a.eq(n).addClass("init").css({marginLeft:"",right:"",left:"",width:"100%"}),o=!1},o=setTimeout(l,d),e.data({resetSlides:l,resetTimeout:o})},slideFor:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),n=t.duration,r=e.data("resetSlides"),d=e.data("resetTimeout");d&&(r(),clearTimeout(d)),a.eq(i).css("display"),a.eq(s).removeClass("init").css({transform:"translateX(-100%)"}),a.eq(i).css({transform:"translateX(100%)"}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({transform:"translateX(0%)"}),r=function(){a.eq(s).addClass("init"),a.eq(i).addClass("init").css({transform:"translateX(0%)"}),d=!1},d=setTimeout(r,n),e.data({resetSlides:r,resetTimeout:d})},slideBack:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),n=t.duration,r=e.data("resetSlides"),d=e.data("resetTimeout");d&&(r(),clearTimeout(d)),a.eq(i).css("display"),a.eq(s).removeClass("init").css({transform:"translateX(100%)"}),a.eq(i).addClass("init").css({transform:"translateX(-100%)"}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({transform:"translateX(0%)"}),r=function(){a.eq(s).addClass("init"),a.eq(i).addClass("init"),d=!1},d=setTimeout(r,n),e.data({resetSlides:r,resetTimeout:d})},slideVertFor:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),n=t.duration,r=e.data("resetSlides"),d=e.data("resetTimeout");d&&(r(),clearTimeout(d)),a.eq(i).css("display"),a.eq(s).removeClass("init").css({transform:"translateY(-100%)"}),a.eq(i).css({transform:"translateY(100%)"}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({transform:"translateY(0%)"}),r=function(){a.eq(s).addClass("init"),a.eq(i).addClass("init").css({transform:"translateY(0%)"}),d=!1},d=setTimeout(r,n),e.data({resetSlides:r,resetTimeout:d})},slideVertBack:function(){var e=this,a=e.children(".panel"),t=e.data("settings"),s=e.data("cIndex"),i=e.data("pIndex"),n=t.duration,r=e.data("resetSlides"),d=e.data("resetTimeout");d&&(r(),clearTimeout(d)),a.eq(i).css("display"),a.eq(s).removeClass("init").css({transform:"translateY(100%)"}),a.eq(i).addClass("init").css({transform:"translateY(-100%)"}),a.eq(i).css("display"),a.eq(i).removeClass("init").css({transform:"translateY(0%)"}),r=function(){a.eq(s).addClass("init"),a.eq(i).addClass("init"),d=!1},d=setTimeout(r,n),e.data({resetSlides:r,resetTimeout:d})}};e.fn.bbslider=function(a){return t[a]?t[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void e.error("Method "+a+" does not exist on jQuery[pluginName]"):t.init.apply(this,arguments)}}(jQuery);